window.addEventListener('DOMContentLoaded', function () {

    /*ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ğŸ 
    ï½œ   ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼é–‹é–‰
    â¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ğŸ  */

    var $btn = $('.hNavToggleBtn');
    var $hNav = $('#hNavWrap');
    var $mask = $('#hNavClose');
    var $a = $('a');
    var open = 'open';
    $btn.on('click', function () {
        if (!$hNav.hasClass(open)) {
            $hNav.addClass(open);
        } else {
            $hNav.removeClass(open);
        }
    });

    $mask.on('click', function () {
        $hNav.removeClass(open);
    })
    // $a.on('click', function () {  aã‚¿ã‚°ã‚’é–‹ã„ã¦ä¸‹å±¤ãƒšãƒ¼ã‚¸ã‚’é–‹ããŸã„æ™‚ã«ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒé–‰ã˜ã‚‹ã®ã§é™¤å¤–
    //     $hNav.removeClass(open);
    // })
    var $gNav = document.getElementById('gNav').innerHTML;
    // document.getElementById('hNav').innerHTML = $gNav;  ä¸‹å±¤ãƒšãƒ¼ã‚¸ãŒã‚ã‚‹æ™‚ã«ã€hNAv ã¨ gNav ã‚’åˆ¥ç‰©ã«ã—ãŸã„ã®ã§é™¤å¤–

    /*ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ğŸ 
    ï½œ   ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼å†… ä¸‹å±¤ãƒšãƒ¼ã‚¸
    â¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ğŸ  */

    //ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã®è¨­å®šã‚’é–¢æ•°ã§ã¾ã¨ã‚ã‚‹
    function mediaQueriesWin() {
        var width = $(window).width();
        if (width <= 1023) { //æ¨ªå¹…ãŒ1023pxä»¥ä¸‹ã®å ´åˆ $(".has_child>a").off('click');	//has_childã‚¯ãƒ©ã‚¹ãŒã¤ã„ãŸaã‚¿ã‚°ã®onã‚¤ãƒ™ãƒ³ãƒˆã‚’è¤‡æ•°ç™»éŒ²ã‚’é¿ã‘ã‚‹ç‚ºoffã«ã—ã¦ä¸€æ—¦åˆæœŸçŠ¶æ…‹ã¸
            $(".has_child>a").on('click', function () { //has_childã‚¯ãƒ©ã‚¹ãŒã¤ã„ãŸaã‚¿ã‚°ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰
                var parentElem = $(this).parent(); // aã‚¿ã‚°ã‹ã‚‰è¦‹ãŸè¦ªè¦ç´ ã®liã‚’å–å¾—ã—
                $(parentElem).toggleClass('active'); //çŸ¢å°æ–¹å‘ã‚’å¤‰ãˆã‚‹ãŸã‚ã®ã‚¯ãƒ©ã‚¹åã‚’ä»˜ä¸ã—ã¦
                $(parentElem).children('ul').stop().slideToggle(500); //liã®å­è¦ç´ ã®ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’é–‹é–‰ã•ã›ã‚‹â€»æ•°å­—ãŒå¤§ãããªã‚‹ã»ã©ã‚†ã£ãã‚Šé–‹ã
                return false; //ãƒªãƒ³ã‚¯ã®ç„¡åŠ¹åŒ–
            });
        } else { //æ¨ªå¹…ãŒ1024pxä»¥ä¸Šã®å ´åˆ
            $(".has_child>a").off('click'); //has_childã‚¯ãƒ©ã‚¹ãŒã¤ã„ãŸaã‚¿ã‚°ã®onã‚¤ãƒ™ãƒ³ãƒˆã‚’off(ç„¡åŠ¹)ã«ã—
            $(".has_child>a").removeClass('active'); //activeã‚¯ãƒ©ã‚¹ã‚’å‰Šé™¤
            $('.has_child').children('ul').css("display", ""); //ã‚¹ãƒ©ã‚¤ãƒ‰ãƒˆã‚°ãƒ«ã§å‹•ä½œã—ãŸdisplayã‚‚ç„¡åŠ¹åŒ–ã«ã™ã‚‹
        }
    }

    // ãƒšãƒ¼ã‚¸ãŒãƒªã‚µã‚¤ã‚ºã•ã‚ŒãŸã‚‰å‹•ã‹ã—ãŸã„å ´åˆã®è¨˜è¿°
    $(window).resize(function () {
        mediaQueriesWin(); /* ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã®é–¢æ•°ã‚’å‘¼ã¶*/
    });

    // ãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚ŒãŸã‚‰ã™ãã«å‹•ã‹ã—ãŸã„å ´åˆã®è¨˜è¿°
    $(window).on('load', function () {
        mediaQueriesWin(); /* ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã®é–¢æ•°ã‚’å‘¼ã¶*/
    });

    /*ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ğŸ 
    ï½œ   ã‚¹ãƒ ãƒ¼ã‚¹ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
    â¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ğŸ  */

    $('a[href^="#"]').click(function () {
        var speed = 500;
        var href = $(this).attr("href");
        var target = $(href == "#" || href == "" ? 'html' : href);
        var position = target.offset().top;
        $("html, body").animate({ scrollTop: position - 100 }, speed, "swing");
        return false;
    });

    /*ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ğŸ 
    ï½œ   ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒˆãƒƒãƒ—(æœ€ä¸Šéƒ¨ã¸)
    â¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ğŸ  */

    var showFlag = false;
    var topBtn = $('#pageTop');
    topBtn.css('bottom', '-150px');
    $(window).scroll(function () {
        if ($(this).scrollTop() > 500) {
            if (showFlag == false) {
                showFlag = true;
                topBtn.stop().animate({ 'bottom': '16px' }, 200);
            }
        } else {
            if (showFlag) {
                showFlag = false;
                topBtn.stop().animate({ 'bottom': '-150px' }, 200);
            }
        }
    });
    //ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ãƒˆãƒƒãƒ—
    topBtn.click(function () {
        $('body,html').animate({
            scrollTop: 0
        }, 500);
        return false;
    });

});
